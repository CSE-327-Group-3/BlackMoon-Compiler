<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlackMoon Compiler</title>
    <link rel="icon" type="image/x-icon" href="/static/blackmoon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="/static/blackmoon.ico">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/ext-language_tools.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.min.css">
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="header-left">
                <h1><i class="fas fa-code"></i> BlackMoon Compiler</h1>
                <div class="project-selector">
                    <select id="projectSelect">
                        <option value="">Select Project</option>
                    </select>
                    <button id="newProjectBtn" class="btn btn-primary">
                        <i class="fas fa-plus"></i> New Project
                    </button>
                </div>
            </div>
            <div class="header-right">
                <div class="language-selector">
                    <button id="askAiButton" class="btn btn-ai" title="Ask AI about your code">
                        <i class="fas fa-comments"></i> Ask AI
                    </button>
                    <label for="languageSelect">Language:</label>
                    <select id="languageSelect">
                        <option value="python">Python</option>
                        <option value="c">C</option>
                        <option value="cpp">C++</option>
                        <option value="java">Java</option>
                        <option value="javascript">JavaScript</option>
                        <option value="go">Go</option>
                        <option value="rust">Rust</option>
                    </select>
                </div>
                <div class="action-buttons">
                    <button id="runButton" class="btn btn-success">
                        <i class="fas fa-play"></i> Run
                    </button>
                    <button id="explainButton" class="btn btn-info">
                        <i class="fas fa-robot"></i> AI Explain
                    </button>
                    <button id="saveButton" class="btn btn-warning">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <div class="profile-dropdown">
                        <div id="profileButton" class="profile-button">
                            <div class="profile-avatar" id="profileAvatar">
                                <i class="fas fa-user"></i>
                            </div>
                        </div>
                        <div id="profileMenu" class="profile-menu">
                            </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="main-layout">
            <aside class="file-sidebar">
                <div class="sidebar-header">
                    <h3><i class="fas fa-folder"></i> Files</h3>
                    <div class="file-actions">
                        <button id="newFileBtn" class="btn btn-sm btn-primary" title="New File">
                            <i class="fas fa-file"></i>
                        </button>
                        <button id="newFolderBtn" class="btn btn-sm btn-secondary" title="New Folder">
                            <i class="fas fa-folder-plus"></i>
                        </button>
                    </div>
                </div>
                <div class="file-tree" id="fileTree">
                    <div class="empty-state">
                        <i class="fas fa-folder-open"></i>
                        <p>No project selected</p>
                    </div>
                </div>
            </aside>

            <main class="main-content">
                <div class="editor-panel">
                    <div class="editor-header">
                        <div class="file-tabs" id="fileTabs">
                            </div>
                        <div class="editor-controls">
                            <div class="font-controls">
                                <button id="fontDecrease" class="btn btn-sm btn-outline" title="Decrease font size">
                                    <i class="fas fa-magnifying-glass-minus"></i>
                                </button>
                                <button id="fontIncrease" class="btn btn-sm btn-outline" title="Increase font size">
                                    <i class="fas fa-magnifying-glass-plus"></i>
                                </button>
                            </div>
                            <button id="formatButton" class="btn btn-sm btn-outline">
                                <i class="fas fa-magic"></i> Format
                            </button>
                            <button id="settingsButton" class="btn btn-sm btn-outline">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>
                    <div class="editor-container">
                        <div id="codeEditor"></div>
                    </div>
                    </div>

                <div class="panel-resizer" id="terminalResizer" role="separator" aria-label="Resize terminal" aria-orientation="vertical" tabindex="0"></div>

                <div class="terminal-panel">
                    <div class="terminal-header">
                        <h3><i class="fas fa-terminal"></i> Terminal</h3>
                        <div class="terminal-controls">
                            <div class="terminal-font-controls" aria-label="Terminal font size controls">
                                <button id="terminalFontDecrease" class="btn btn-sm btn-outline" title="Decrease terminal font size">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <button id="terminalFontIncrease" class="btn btn-sm btn-outline" title="Increase terminal font size">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <button id="clearTerminalBtn" class="btn btn-sm btn-outline">
                                <i class="fas fa-trash"></i> Clear
                            </button>
                            <button id="toggleTerminalBtn" class="btn btn-sm btn-outline">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                    </div>
                    <div class="terminal" id="terminal">
                        <div id="terminal-container" class="terminal-container"></div>
                    </div>
                </div>
            </main>
        </div>

        <div id="newProjectModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><i class="fas fa-folder-plus"></i> Create New Project</h2>
                    <button class="close-btn" id="closeNewProjectModal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="newProjectForm">
                        <div class="form-group">
                            <label for="projectName">Project Name:</label>
                            <input type="text" id="projectName" required placeholder="Enter project name">
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="cancelNewProject">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Project</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id="newFileModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><i class="fas fa-file"></i> Create New File</h2>
                    <button class="close-btn" id="closeNewFileModal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="newFileForm">
                        <div class="form-group">
                            <label for="fileName">File Name:</label>
                            <input type="text" id="fileName" required placeholder="Enter file name (e.g., main.py)">
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="cancelNewFile">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create File</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id="newFolderModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><i class="fas fa-folder-plus"></i> Create New Folder</h2>
                    <button class="close-btn" id="closeNewFolderModal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="newFolderForm">
                        <div class="form-group">
                            <label for="folderName">Folder Path:</label>
                            <input type="text" id="folderName" required placeholder="Enter folder path (e.g., src/utils)">
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="cancelNewFolder">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Folder</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.8.0/lib/xterm-addon-fit.min.js"></script>
    <script src="/static/script.js"></script>
</body>
</html>
